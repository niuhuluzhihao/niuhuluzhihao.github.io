---
layout: post
title: "python小知识"
date: 2025-11-18 23:10:00
author: "NiuHuLu"
catalog: false
published: true
header-style: text
tags:
  - python
---



# 小知识
- 对于大数据的读取，采用生成器的方式 yield
- py文件想要实现jupyter中块的效果，使用 # %%  # %% 可以将代码块包住。太nice了

# streamlit
这是 Streamlit 的“双阶段”执行机制决定的，streamlit是懒加载的,按需执行，按需执行（lazy execution）：

| 阶段                     | 发生时机                         | 是否执行 `if __name__ == "__main__"` 中的代码 | 是否执行页面主体（`main()`） | 是否触发 `st.*` 元素渲染 |
|--------------------------|----------------------------------|---------------------------------------------|------------------------------|---------------------------|
| 1. 启动/预热阶段         | `streamlit run` 刚启动时         | ✅ 执行                                     | ❌ 不执行                    | ❌ 不执行                 |
| 2. 首次访问（或 rerun）阶段 | 用户首次打开浏览器访问 URL 时     | ✅ 重新执行（⚠️关键！）                      | ✅ 执行                       | ✅ 渲染                   |