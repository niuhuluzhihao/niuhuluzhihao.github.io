---
layout: post
title: "wsl使用教程"
date: 2025-08-13 23:10:00
author: "NiuHuLu"
catalog: false
published: true
header-style: text
tags:
  - 大模型
---

# 背景：
换新公司了,电脑os也从linux变成了windows。日常开发的时候在终端使用的时候总觉得不是很方便，所以尝试使用wsl。

# 什么是wsl
WSL全称Windows Subsystem for Linux（Windows上的Linux子系统）。这套设施是微软推出的，为开发者们提供了很大的便利。

想要在一台机器上同时拥有Windows和Linux，传统的做法有两种。一是设置双引导，即安装双系统。二是先安装Windows，再安装个虚拟机软件（例如VMware），最后在虚拟机上安装Linux。但这两种方式的弊端都很明显，除了安装流程麻烦之外，前者切换系统必须重启计算机，后者则因虚拟机这一层导致系统性能比较差。

WSL通过Windows NT内核层面支持了Linux的内核接口，使得Linux环境能直接安装在Windows上。

**注：WSL只在win10的较新版本之后才支持。**

# 安装wsl
1、以管理员身份打开 PowerShell
```
wsl --install
```
这个方式会默认使用wsl 2以及ubuntu
2、重启电脑
3、验证是否成功
```
wsl -l v
```
预期成功结果：
```
  NAME      STATE           VERSION
* Ubuntu    Running         2
```


# 在vscode中使用wsl
1、安装wsl插件，名称就叫做WSL
2、在连接远程的地方就会出现WSL目标，直接连接就可以了
[image](../pict/wsl.png)]




# 常见问题
&emsp;1、wsl install安装不了，可以通过代理服务器的方式实现,确保代理服务器可以与外部网络通信：  
```
$env:HTTP_PROXY="http://127.0.0.1:10809"; $env:HTTPS_PROXY="http://127.0.0.1:10809"; wsl --install
```
&emsp;2、wsl中使用git的时候出现中文乱码的问题：  
&emsp;先检查系统支持那些locale,如果没有执行安装
&emsp;安装中文 locale
```
sudo apt update && sudo apt install -y locales
```
&emsp;3、设置默认的locale
```
vi ~/.bashrc 

文件末尾添加
export LANG=zh_CN.UTF-8
export LC_ALL=zh_CN.UTF-8
export LC_CTYPE=zh_CN.UTF-8

执行生效
# 如果修改的是 ~/.bashrc，执行：
source ~/.bashrc

```

3、&emsp;如果sudo apt update && sudo apt install -y locales  运行太慢了

&emsp;1、备份源文件
```
sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak
```
&emsp;2、编辑源文件
```
sudo vi /etc/apt/sources.list
```
&emsp;3、添加阿里源
```
deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
```
&emsp;&emsp;4、保存退出即可

# pycharm中使用wsl
